"use strict";var app=angular.module("waterApp",["ui.router","water.controllers","water.services"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("app",{url:"/",views:{header:{templateUrl:"views/header.html"},content:{templateUrl:"views/home.html",controller:"HomeController"}}}).state("app.info",{url:"information",views:{"content@":{templateUrl:"views/information.html",controller:"DashboardController"}}}).state("app.send",{url:"send",views:{"content@":{templateUrl:"views/send.html"}}}),t.otherwise("/")}]);angular.module("water.controllers",["chart.js","water.services","ngResource"]).controller("DashboardController",["$scope",function(e){e.chemlabels=["pH","pH","pH","pH","pH","pH","pH"],e.chemseries=["Series A","Series B"],e.colors=["#00BCD4","#303F9F"],e.chemdata=[[650,590,800,810,560,550,400],[280,480,400,190,860,270,900]],e.epidlabels=["Бактерии-2","Бактерии-1"],e.epiddata=[300,500]}]).controller("HomeController",["$scope","$resource",function(e,t){function o(o){i=o.coords.longitude,n=o.coords.latitude,a="http://api.openweathermap.org/data/2.5/weather?lat="+n+"&lon="+i+"&appid=44db6a862fba0b067b1930da0d769e98",console.log("current position is: "+n+" "+i),t(a).get().$promise.then(function(t){e.temperature=Math.round(t.main.temp-273),e.city=t.name,e.showWeather=!0;var o=t.weather[0].icon;"n"==o[o.length-1]?e.weathericon="wi wi-owm-night-"+t.weather[0].id:e.weathericon="wi-owm-day-"+t.weather[0].id},function(t){e.message="Error: "+t.status+" "+t.statusText})}function r(e){alert("error "+e.code+" "+e.message)}e.showWeather=!1,e.message="Загрузка...";var a,n=0,i=0,s={enableHighAccuracy:!0};"geolocation"in navigator?navigator.geolocation.getCurrentPosition(o,r,s):alert("Your browser doesnt support geolocation"),setInterval(function(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(o,r,s):alert("Your browser doesnt support geolocation"),e.$digest},18e5)}]),angular.module("water.services",["ngResource"]).factory("WeatherFactory",["$resource",function(e){}]);